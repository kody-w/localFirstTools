<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Simulation Configuration Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ Advanced Simulation Configuration Generator</h1>
            <p class="subtitle">Configure and deploy Docker-based simulations with ease</p>
            <div class="user-info">
                <span>üë§ User: kody-w</span>
                <span>üìÖ Date: <span id="current-date"></span></span>
            </div>
        </header>

        <main>
            <form id="config-form">
                <!-- Step 1: Repositories -->
                <section class="config-section" id="step-1">
                    <h2>üì¶ Step 1: GitHub Repositories</h2>
                    <div class="form-group">
                        <label for="repositories">Repository URLs (one per line)</label>
                        <textarea id="repositories" rows="4" placeholder="https://github.com/user/repo1&#10;https://github.com/user/repo2"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="workspace">Workspace Directory</label>
                        <input type="text" id="workspace" value="simulations" />
                    </div>
                </section>

                <!-- Step 2: Simulation Configuration -->
                <section class="config-section" id="step-2">
                    <h2>‚öôÔ∏è Step 2: Simulation Configuration</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="language">Programming Language</label>
                            <select id="language">
                                <option value="python">Python</option>
                                <option value="nodejs">Node.js</option>
                                <option value="java">Java</option>
                                <option value="custom">Custom</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="version">Language Version</label>
                            <input type="text" id="version" value="3.11" />
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="entry-point">Entry Point File</label>
                        <input type="text" id="entry-point" value="main.py" />
                    </div>
                    
                    <div class="form-group">
                        <label for="system-deps">System Dependencies (comma-separated)</label>
                        <input type="text" id="system-deps" placeholder="gcc, curl, git" />
                    </div>
                    
                    <div class="form-group">
                        <label for="pip-packages">Additional Packages (comma-separated)</label>
                        <input type="text" id="pip-packages" placeholder="numpy, pandas, matplotlib" />
                    </div>
                    
                    <div class="checkbox-group">
                        <label>
                            <input type="checkbox" id="mount-source" checked>
                            Mount source code (for development)
                        </label>
                        <label>
                            <input type="checkbox" id="config-files">
                            Generate configuration files
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label>Environment Variables</label>
                        <div id="env-vars">
                            <div class="env-var-row">
                                <input type="text" placeholder="KEY" class="env-key">
                                <input type="text" placeholder="VALUE" class="env-value">
                                <button type="button" class="btn-remove" onclick="removeEnvVar(this)">√ó</button>
                            </div>
                        </div>
                        <button type="button" class="btn-secondary" onclick="addEnvVar()">+ Add Variable</button>
                    </div>
                </section>

                <!-- Step 3: Docker Configuration -->
                <section class="config-section" id="step-3">
                    <h2>üê≥ Step 3: Docker Configuration</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="restart-policy">Restart Policy</label>
                            <select id="restart-policy">
                                <option value="unless-stopped">Unless Stopped</option>
                                <option value="always">Always</option>
                                <option value="on-failure">On Failure</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="network-mode">Network Mode</label>
                            <select id="network-mode">
                                <option value="">Bridge (default)</option>
                                <option value="host">Host</option>
                                <option value="none">None</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="checkbox-group">
                        <label>
                            <input type="checkbox" id="build-cache" checked>
                            Use build cache
                        </label>
                        <label>
                            <input type="checkbox" id="auto-start" checked>
                            Auto-start containers
                        </label>
                        <label>
                            <input type="checkbox" id="expose-ports">
                            Expose ports
                        </label>
                    </div>
                    
                    <div class="form-group" id="ports-group" style="display: none;">
                        <label>Port Mappings</label>
                        <div id="ports">
                            <div class="port-row">
                                <input type="text" placeholder="8080:80" class="port-mapping">
                                <button type="button" class="btn-remove" onclick="removePort(this)">√ó</button>
                            </div>
                        </div>
                        <button type="button" class="btn-secondary" onclick="addPort()">+ Add Port</button>
                    </div>
                </section>

                <!-- Step 4: Resources -->
                <section class="config-section" id="step-4">
                    <h2>üí™ Step 4: Resource Configuration</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="memory-limit">Memory Limit</label>
                            <input type="text" id="memory-limit" placeholder="512m, 2g, etc." />
                        </div>
                        <div class="form-group">
                            <label for="cpu-limit">CPU Limit</label>
                            <input type="text" id="cpu-limit" placeholder="0.5, 1, 2, etc." />
                        </div>
                    </div>
                    
                    <div class="checkbox-group">
                        <label>
                            <input type="checkbox" id="gpu-enabled">
                            Enable GPU support (NVIDIA)
                        </label>
                    </div>
                </section>

                <!-- Step 5: Monitoring -->
                <section class="config-section" id="step-5">
                    <h2>üìä Step 5: Monitoring & Logging</h2>
                    <div class="checkbox-group">
                        <label>
                            <input type="checkbox" id="monitoring-enabled">
                            Enable monitoring
                        </label>
                        <label>
                            <input type="checkbox" id="logging">
                            Enable logging
                        </label>
                        <label>
                            <input type="checkbox" id="prometheus">
                            Setup Prometheus
                        </label>
                        <label>
                            <input type="checkbox" id="grafana">
                            Setup Grafana
                        </label>
                    </div>
                </section>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button type="button" class="btn-primary" onclick="generateScript()">
                        üöÄ Generate Script
                    </button>
                    <button type="button" class="btn-secondary" onclick="resetForm()">
                        üîÑ Reset
                    </button>
                </div>
            </form>

            <!-- Output Section -->
            <section id="output-section" style="display: none;">
                <h2>üìù Generated Bash Script</h2>
                <div class="output-actions">
                    <button class="btn-secondary" onclick="copyScript()">üìã Copy</button>
                    <button class="btn-primary" onclick="downloadScript()">üíæ Download</button>
                    <button class="btn-secondary" onclick="newConfiguration()">üÜï New Configuration</button>
                </div>
                <pre id="script-output"></pre>
            </section>
        </main>

        <footer>
            <p>Created with ‚ù§Ô∏è by kody-w | Advanced Simulation Generator v2.0</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
