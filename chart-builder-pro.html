<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chart Builder Pro</title>
    <meta name="description" content="Create beautiful charts: bar, line, pie, scatter, area with data import/export and customization">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: #1a1a2e; color: #e0e0e0; height: 100vh; overflow: hidden; }
        #app { display: flex; height: 100vh; }
        #sidebar { width: 300px; background: #16213e; padding: 20px; overflow-y: auto; border-right: 2px solid #0f3460; }
        h1 { font-size: 18px; color: #00ff88; margin-bottom: 20px; }
        .section { margin-bottom: 20px; padding: 15px; background: rgba(255, 255, 255, 0.05); border-radius: 8px; }
        .section h3 { font-size: 12px; color: #00ff88; margin-bottom: 12px; text-transform: uppercase; }
        button { width: 100%; padding: 10px; background: #00ff88; color: #000; border: none; border-radius: 5px; cursor: pointer; margin-bottom: 8px; font-weight: bold; }
        button:hover { background: #00dd77; }
        .chart-type { padding: 10px; background: rgba(0, 255, 136, 0.1); border: 1px solid #00ff88; border-radius: 5px; margin-bottom: 8px; cursor: pointer; text-align: center; }
        .chart-type.active { background: #00ff88; color: #000; }
        textarea { width: 100%; padding: 10px; background: rgba(0, 0, 0, 0.3); border: 1px solid #0f3460; color: #e0e0e0; border-radius: 5px; font-family: 'Monaco', monospace; font-size: 11px; }
        #main { flex: 1; display: flex; flex-direction: column; }
        #header { background: #16213e; padding: 20px; border-bottom: 2px solid #0f3460; }
        #canvas-area { flex: 1; display: flex; align-items: center; justify-content: center; background: #0f3460; }
        canvas { background: #fff; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5); }
    </style>
</head>
<body>
    <div id="app">
        <div id="sidebar">
            <h1>ðŸ“Š Chart Builder Pro</h1>

            <div class="section">
                <h3>Chart Type</h3>
                <div class="chart-type active" data-type="bar">ðŸ“Š Bar Chart</div>
                <div class="chart-type" data-type="line">ðŸ“ˆ Line Chart</div>
                <div class="chart-type" data-type="pie">ðŸ¥§ Pie Chart</div>
                <div class="chart-type" data-type="scatter">âš« Scatter Plot</div>
            </div>

            <div class="section">
                <h3>Data (JSON)</h3>
                <textarea id="dataInput" rows="10">{"labels": ["Jan", "Feb", "Mar", "Apr", "May"], "values": [12, 19, 3, 5, 2]}</textarea>
                <button onclick="updateChart()">Update Chart</button>
            </div>

            <div class="section">
                <h3>Actions</h3>
                <button onclick="downloadImage()">ðŸ’¾ Download PNG</button>
                <button onclick="exportData()">ðŸ“¤ Export Data</button>
            </div>
        </div>

        <div id="main">
            <div id="header">
                <h2 style="color: #00ff88;">Data Visualization</h2>
            </div>
            <div id="canvas-area">
                <canvas id="chart" width="800" height="500"></canvas>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('chart');
        const ctx = canvas.getContext('2d');
        let chartType = 'bar';
        let chartData = { labels: ["Jan", "Feb", "Mar", "Apr", "May"], values: [12, 19, 3, 5, 2] };

        function drawBarChart() {
            ctx.fillStyle = '#fff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const padding = 60;
            const chartWidth = canvas.width - padding * 2;
            const chartHeight = canvas.height - padding * 2;
            const barWidth = chartWidth / chartData.labels.length;
            const maxValue = Math.max(...chartData.values);

            chartData.values.forEach((value, i) => {
                const barHeight = (value / maxValue) * chartHeight;
                const x = padding + i * barWidth;
                const y = canvas.height - padding - barHeight;

                const gradient = ctx.createLinearGradient(0, y, 0, canvas.height - padding);
                gradient.addColorStop(0, '#00ff88');
                gradient.addColorStop(1, '#00dd77');

                ctx.fillStyle = gradient;
                ctx.fillRect(x + 10, y, barWidth - 20, barHeight);

                ctx.fillStyle = '#000';
                ctx.font = '12px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(chartData.labels[i], x + barWidth / 2, canvas.height - padding + 20);
                ctx.fillText(value, x + barWidth / 2, y - 5);
            });
        }

        function drawLineChart() {
            ctx.fillStyle = '#fff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const padding = 60;
            const chartWidth = canvas.width - padding * 2;
            const chartHeight = canvas.height - padding * 2;
            const stepX = chartWidth / (chartData.labels.length - 1);
            const maxValue = Math.max(...chartData.values);

            ctx.strokeStyle = '#00ff88';
            ctx.lineWidth = 3;
            ctx.beginPath();

            chartData.values.forEach((value, i) => {
                const x = padding + i * stepX;
                const y = canvas.height - padding - (value / maxValue) * chartHeight;

                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);

                ctx.fillStyle = '#00ff88';
                ctx.beginPath();
                ctx.arc(x, y, 5, 0, Math.PI * 2);
                ctx.fill();

                ctx.fillStyle = '#000';
                ctx.font = '12px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(chartData.labels[i], x, canvas.height - padding + 20);
            });

            ctx.stroke();
        }

        function drawPieChart() {
            ctx.fillStyle = '#fff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = Math.min(canvas.width, canvas.height) / 3;
            const total = chartData.values.reduce((a, b) => a + b, 0);

            let currentAngle = -Math.PI / 2;
            const colors = ['#00ff88', '#ff006e', '#00d9ff', '#ffea00', '#ff8800', '#8a2be2'];

            chartData.values.forEach((value, i) => {
                const sliceAngle = (value / total) * Math.PI * 2;

                ctx.fillStyle = colors[i % colors.length];
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, currentAngle, currentAngle + sliceAngle);
                ctx.closePath();
                ctx.fill();

                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 2;
                ctx.stroke();

                currentAngle += sliceAngle;
            });
        }

        function drawScatterPlot() {
            ctx.fillStyle = '#fff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const padding = 60;
            const chartWidth = canvas.width - padding * 2;
            const chartHeight = canvas.height - padding * 2;
            const maxValue = Math.max(...chartData.values);

            chartData.values.forEach((value, i) => {
                const x = padding + (i / chartData.values.length) * chartWidth;
                const y = canvas.height - padding - (value / maxValue) * chartHeight;

                ctx.fillStyle = '#00ff88';
                ctx.beginPath();
                ctx.arc(x, y, 8, 0, Math.PI * 2);
                ctx.fill();
            });
        }

        function renderChart() {
            switch(chartType) {
                case 'bar': drawBarChart(); break;
                case 'line': drawLineChart(); break;
                case 'pie': drawPieChart(); break;
                case 'scatter': drawScatterPlot(); break;
            }
        }

        document.querySelectorAll('.chart-type').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.chart-type').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                chartType = btn.dataset.type;
                renderChart();
            });
        });

        window.updateChart = function() {
            try {
                chartData = JSON.parse(document.getElementById('dataInput').value);
                renderChart();
            } catch(e) {
                alert('Invalid JSON data');
            }
        };

        window.downloadImage = function() {
            const link = document.createElement('a');
            link.download = `chart-${Date.now()}.png`;
            link.href = canvas.toDataURL();
            link.click();
        };

        window.exportData = function() {
            const blob = new Blob([JSON.stringify(chartData, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'chart-data.json';
            a.click();
        };

        renderChart();
    </script>
</body>
</html>