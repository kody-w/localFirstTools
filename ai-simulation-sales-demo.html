<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Simulation Platform - Beyond Execution to Modeling</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3a 100%);
            color: #e0e0e0;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 40px 0;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(99, 102, 241, 0.1) 0%, transparent 70%);
            animation: pulse 15s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        h1 {
            font-size: 3em;
            background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .subtitle {
            font-size: 1.3em;
            color: #9ca3af;
            position: relative;
            z-index: 1;
        }

        .value-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 40px 0;
        }

        .comparison-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 30px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .comparison-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);
        }

        .comparison-card h3 {
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .linear-value {
            border-color: rgba(239, 68, 68, 0.3);
        }

        .linear-value h3 {
            color: #ef4444;
        }

        .exponential-value {
            border-color: rgba(34, 197, 94, 0.3);
        }

        .exponential-value h3 {
            color: #22c55e;
        }

        .use-cases {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-top: 50px;
        }

        .use-case-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 25px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .use-case-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #6366f1 0%, #a855f7 100%);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .use-case-card:hover::before {
            transform: scaleX(1);
        }

        .use-case-card:hover {
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.06);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.2);
        }

        .use-case-card h4 {
            font-size: 1.3em;
            color: #e0e6ed;
            margin-bottom: 10px;
        }

        .use-case-card p {
            color: #9ca3af;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .simulate-btn {
            background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            font-weight: 600;
        }

        .simulate-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(99, 102, 241, 0.4);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            position: relative;
            background: linear-gradient(135deg, #1a1a3a 0%, #0f0f23 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            max-width: 800px;
            max-height: 80vh;
            margin: 50px auto;
            padding: 40px;
            overflow-y: auto;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 30px;
            color: #9ca3af;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-modal:hover {
            color: #ef4444;
        }

        .simulation-container {
            margin-top: 20px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #e0e6ed;
            font-weight: 500;
        }

        .input-group input,
        .input-group select,
        .input-group textarea {
            width: 100%;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #e0e6ed;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .input-group input:focus,
        .input-group select:focus,
        .input-group textarea:focus {
            outline: none;
            border-color: #6366f1;
            background: rgba(255, 255, 255, 0.08);
        }

        .run-simulation-btn {
            background: linear-gradient(135deg, #22c55e 0%, #10b981 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            font-weight: 600;
            margin-top: 20px;
        }

        .run-simulation-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(34, 197, 94, 0.4);
        }

        .simulation-results {
            margin-top: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            display: none;
        }

        .result-item {
            margin-bottom: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border-left: 3px solid #6366f1;
        }

        .result-timeline {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .timeline-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .timeline-card:hover {
            background: rgba(99, 102, 241, 0.1);
            transform: scale(1.05);
        }

        .timeline-card h5 {
            color: #a855f7;
            margin-bottom: 5px;
        }

        .timeline-card .value {
            font-size: 1.5em;
            color: #22c55e;
            font-weight: bold;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top: 3px solid #6366f1;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .chart-container {
            margin-top: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            height: 300px;
            position: relative;
        }

        .value-metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 30px;
        }

        .metric-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .metric-card h5 {
            color: #9ca3af;
            font-size: 0.9em;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .metric-card .metric-value {
            font-size: 2em;
            font-weight: bold;
            background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        @media (max-width: 768px) {
            .value-comparison {
                grid-template-columns: 1fr;
            }
            
            .use-cases {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>AI Simulation Platform</h1>
            <p class="subtitle">Transform Decision-Making from Linear to Exponential Value</p>
        </div>

        <div class="value-comparison">
            <div class="comparison-card linear-value">
                <h3>❌ Traditional AI Agents (Doers)</h3>
                <ul>
                    <li>Linear time savings</li>
                    <li>Task automation focus</li>
                    <li>10-minute email → 0-minute email</li>
                    <li>Incremental improvements</li>
                    <li>Reactive approach</li>
                </ul>
            </div>
            <div class="comparison-card exponential-value">
                <h3>✅ AI Simulation Agents (Modelers)</h3>
                <ul>
                    <li>Exponential value creation</li>
                    <li>Reality simulation focus</li>
                    <li>10-year cycle → 10-hour simulation</li>
                    <li>Breakthrough discoveries</li>
                    <li>Proactive exploration</li>
                </ul>
            </div>
        </div>

        <h2 style="text-align: center; margin: 40px 0; color: #e0e6ed;">Sales & Business Use Cases</h2>

        <div class="use-cases">
            <div class="use-case-card" onclick="openModal('customer-response')">
                <h4>🎯 Customer Response Simulator</h4>
                <p>Simulate how different customer segments will react to your product launch before spending a single dollar on development.</p>
                <button class="simulate-btn">Simulate Customer Response</button>
            </div>

            <div class="use-case-card" onclick="openModal('marketing-campaign')">
                <h4>📢 Marketing Campaign Universe</h4>
                <p>Test thousands of marketing campaign variations in minutes to find the optimal creative mix without spending your budget.</p>
                <button class="simulate-btn">Test Campaign Universe</button>
            </div>

            <div class="use-case-card" onclick="openModal('pricing-cliff')">
                <h4>💰 Pricing Cliff Finder</h4>
                <p>Discover optimal pricing points and hidden revenue cliffs by simulating customer behavior across price ranges.</p>
                <button class="simulate-btn">Find Pricing Sweet Spot</button>
            </div>

            <div class="use-case-card" onclick="openModal('timeline-explorer')">
                <h4>🔮 Business Timeline Explorer</h4>
                <p>Explore multiple business growth timelines simultaneously to identify the highest-value strategic path.</p>
                <button class="simulate-btn">Explore Timelines</button>
            </div>

            <div class="use-case-card" onclick="openModal('decision-quality')">
                <h4>🎲 Decision Quality Optimizer</h4>
                <p>Improve decision-making by simulating outcomes of major business choices before committing resources.</p>
                <button class="simulate-btn">Optimize Decisions</button>
            </div>

            <div class="use-case-card" onclick="openModal('hidden-segments')">
                <h4>🔍 Hidden Segment Discoverer</h4>
                <p>Uncover profitable customer segments you didn't know existed through advanced behavioral simulation.</p>
                <button class="simulate-btn">Discover Segments</button>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div id="simulationModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <div id="modalContent"></div>
        </div>
    </div>

    <script>
        // Simulation configurations for each use case
        const simulations = {
            'customer-response': {
                title: 'Customer Response Simulator',
                description: 'Simulate how different customer segments will react to your product launch.',
                inputs: `
                    <div class="input-group">
                        <label>Product Name</label>
                        <input type="text" id="productName" placeholder="e.g., AI Analytics Dashboard" value="AI Analytics Dashboard">
                    </div>
                    <div class="input-group">
                        <label>Target Segment</label>
                        <select id="targetSegment">
                            <option value="enterprise">Enterprise (>1000 employees)</option>
                            <option value="midmarket">Mid-Market (100-1000 employees)</option>
                            <option value="smb">SMB (<100 employees)</option>
                            <option value="startup">Startups</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Key Features (comma-separated)</label>
                        <input type="text" id="features" placeholder="e.g., Real-time analytics, AI predictions" value="Real-time analytics, AI predictions, Custom dashboards">
                    </div>
                    <div class="input-group">
                        <label>Price Point</label>
                        <input type="number" id="pricePoint" placeholder="e.g., 999" value="999">
                    </div>
                `,
                simulate: function() {
                    const segment = document.getElementById('targetSegment').value;
                    const price = parseInt(document.getElementById('pricePoint').value);
                    const features = document.getElementById('features').value.split(',').length;
                    
                    // Simulate different response scenarios
                    const scenarios = [];
                    const baseAdoption = {
                        'enterprise': 0.15,
                        'midmarket': 0.25,
                        'smb': 0.35,
                        'startup': 0.45
                    };
                    
                    for (let i = 0; i < 5; i++) {
                        const priceMultiplier = 1 - (price / 5000);
                        const featureBonus = features * 0.05;
                        const randomVariance = (Math.random() - 0.5) * 0.2;
                        
                        const adoptionRate = Math.max(0.05, Math.min(0.95, 
                            baseAdoption[segment] + priceMultiplier * 0.3 + featureBonus + randomVariance
                        ));
                        
                        const sentiment = adoptionRate > 0.5 ? 'Positive' : adoptionRate > 0.3 ? 'Neutral' : 'Negative';
                        const nps = Math.round((adoptionRate * 100) - 20 + (Math.random() * 20));
                        
                        scenarios.push({
                            scenario: `Scenario ${i + 1}`,
                            adoptionRate: (adoptionRate * 100).toFixed(1) + '%',
                            sentiment: sentiment,
                            nps: nps,
                            revenue: '$' + (adoptionRate * 1000000).toFixed(0)
                        });
                    }
                    
                    return {
                        type: 'timeline',
                        data: scenarios
                    };
                }
            },
            'marketing-campaign': {
                title: 'Marketing Campaign Universe Tester',
                description: 'Test multiple campaign variations to find the optimal mix.',
                inputs: `
                    <div class="input-group">
                        <label>Campaign Type</label>
                        <select id="campaignType">
                            <option value="social">Social Media</option>
                            <option value="email">Email Marketing</option>
                            <option value="content">Content Marketing</option>
                            <option value="ppc">PPC Advertising</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Target Audience</label>
                        <input type="text" id="audience" placeholder="e.g., Tech decision makers" value="Tech decision makers">
                    </div>
                    <div class="input-group">
                        <label>Message Focus</label>
                        <select id="messageFocus">
                            <option value="roi">ROI & Cost Savings</option>
                            <option value="innovation">Innovation & Technology</option>
                            <option value="ease">Ease of Use</option>
                            <option value="security">Security & Compliance</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Budget ($)</label>
                        <input type="number" id="budget" placeholder="e.g., 50000" value="50000">
                    </div>
                `,
                simulate: function() {
                    const campaignType = document.getElementById('campaignType').value;
                    const messageFocus = document.getElementById('messageFocus').value;
                    const budget = parseInt(document.getElementById('budget').value);
                    
                    const campaigns = [];
                    const channels = ['LinkedIn', 'Google Ads', 'Facebook', 'Email', 'Content'];
                    
                    channels.forEach(channel => {
                        const basePerformance = {
                            'social': { 'LinkedIn': 0.8, 'Facebook': 0.6, 'Google Ads': 0.5 },
                            'email': { 'Email': 0.9, 'LinkedIn': 0.6, 'Content': 0.7 },
                            'content': { 'Content': 0.95, 'LinkedIn': 0.7, 'Email': 0.6 },
                            'ppc': { 'Google Ads': 0.9, 'LinkedIn': 0.7, 'Facebook': 0.6 }
                        };
                        
                        const performance = basePerformance[campaignType][channel] || 0.5;
                        const variance = (Math.random() - 0.5) * 0.3;
                        const effectiveness = Math.max(0.1, Math.min(0.95, performance + variance));
                        
                        const impressions = Math.round(budget * effectiveness * 100);
                        const clicks = Math.round(impressions * 0.02 * effectiveness);
                        const conversions = Math.round(clicks * 0.05 * effectiveness);
                        const roi = ((conversions * 5000 - budget) / budget * 100).toFixed(1);
                        
                        campaigns.push({
                            channel: channel,
                            impressions: impressions.toLocaleString(),
                            clicks: clicks.toLocaleString(),
                            conversions: conversions,
                            roi: roi + '%',
                            cost: '$' + (budget * 0.2).toFixed(0)
                        });
                    });
                    
                    return {
                        type: 'comparison',
                        data: campaigns
                    };
                }
            },
            'pricing-cliff': {
                title: 'Pricing Cliff Finder',
                description: 'Discover optimal pricing points and revenue cliffs.',
                inputs: `
                    <div class="input-group">
                        <label>Product Category</label>
                        <select id="category">
                            <option value="saas">SaaS Software</option>
                            <option value="hardware">Hardware</option>
                            <option value="service">Professional Service</option>
                            <option value="consumer">Consumer Product</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Current Price ($)</label>
                        <input type="number" id="currentPrice" placeholder="e.g., 99" value="99">
                    </div>
                    <div class="input-group">
                        <label>Market Position</label>
                        <select id="marketPosition">
                            <option value="premium">Premium</option>
                            <option value="competitive">Competitive</option>
                            <option value="budget">Budget</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Customer Base Size</label>
                        <input type="number" id="customerBase" placeholder="e.g., 1000" value="1000">
                    </div>
                `,
                simulate: function() {
                    const currentPrice = parseInt(document.getElementById('currentPrice').value);
                    const customerBase = parseInt(document.getElementById('customerBase').value);
                    const position = document.getElementById('marketPosition').value;
                    
                    const pricePoints = [];
                    const priceMultipliers = [0.5, 0.7, 0.85, 1.0, 1.15, 1.3, 1.5, 2.0];
                    
                    // Price elasticity based on market position
                    const elasticity = {
                        'premium': 0.6,
                        'competitive': 0.9,
                        'budget': 1.2
                    };
                    
                    priceMultipliers.forEach(multiplier => {
                        const newPrice = currentPrice * multiplier;
                        const priceChange = multiplier - 1;
                        const demandChange = -priceChange * elasticity[position];
                        const newCustomers = Math.round(customerBase * (1 + demandChange));
                        const revenue = newPrice * newCustomers;
                        
                        // Identify cliffs
                        const isCliff = multiplier > 1.3 && position !== 'premium';
                        
                        pricePoints.push({
                            price: '$' + newPrice.toFixed(0),
                            customers: newCustomers.toLocaleString(),
                            revenue: '$' + revenue.toLocaleString(),
                            change: (demandChange * 100).toFixed(1) + '%',
                            optimal: multiplier >= 0.85 && multiplier <= 1.15,
                            cliff: isCliff
                        });
                    });
                    
                    return {
                        type: 'pricing',
                        data: pricePoints
                    };
                }
            },
            'timeline-explorer': {
                title: 'Business Timeline Explorer',
                description: 'Explore multiple growth timelines for your business.',
                inputs: `
                    <div class="input-group">
                        <label>Business Model</label>
                        <select id="businessModel">
                            <option value="subscription">Subscription</option>
                            <option value="transaction">Transaction-based</option>
                            <option value="marketplace">Marketplace</option>
                            <option value="advertising">Advertising</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Growth Strategy</label>
                        <select id="growthStrategy">
                            <option value="organic">Organic Growth</option>
                            <option value="aggressive">Aggressive Marketing</option>
                            <option value="partnership">Partnership-driven</option>
                            <option value="acquisition">Acquisition-focused</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Starting ARR ($)</label>
                        <input type="number" id="startingArr" placeholder="e.g., 1000000" value="1000000">
                    </div>
                    <div class="input-group">
                        <label>Investment Available ($)</label>
                        <input type="number" id="investment" placeholder="e.g., 5000000" value="5000000">
                    </div>
                `,
                simulate: function() {
                    const strategy = document.getElementById('growthStrategy').value;
                    const startingArr = parseInt(document.getElementById('startingArr').value);
                    const investment = parseInt(document.getElementById('investment').value);
                    
                    const timelines = [];
                    const strategies = {
                        'organic': { growth: 1.3, risk: 0.1, cost: 0.2 },
                        'aggressive': { growth: 1.8, risk: 0.3, cost: 0.6 },
                        'partnership': { growth: 1.5, risk: 0.2, cost: 0.3 },
                        'acquisition': { growth: 2.2, risk: 0.4, cost: 0.8 }
                    };
                    
                    // Generate 5 different timeline scenarios
                    for (let i = 0; i < 5; i++) {
                        const variance = (Math.random() - 0.5) * 0.4;
                        const growthRate = strategies[strategy].growth + variance;
                        const risk = strategies[strategy].risk;
                        const costMultiplier = strategies[strategy].cost;
                        
                        let arr = startingArr;
                        const timeline = [];
                        
                        for (let year = 1; year <= 5; year++) {
                            const randomEvent = Math.random();
                            if (randomEvent < risk) {
                                // Negative event
                                arr *= 0.85;
                            } else {
                                arr *= growthRate;
                            }
                            
                            timeline.push({
                                year: year,
                                arr: '$' + Math.round(arr).toLocaleString(),
                                investment: '$' + Math.round(investment * costMultiplier * year).toLocaleString()
                            });
                        }
                        
                        timelines.push({
                            scenario: `Timeline ${i + 1}`,
                            finalArr: '$' + Math.round(arr).toLocaleString(),
                            growth: ((arr / startingArr - 1) * 100).toFixed(1) + '%',
                            risk: risk < 0.2 ? 'Low' : risk < 0.35 ? 'Medium' : 'High',
                            details: timeline
                        });
                    }
                    
                    return {
                        type: 'timelines',
                        data: timelines
                    };
                }
            },
            'decision-quality': {
                title: 'Decision Quality Optimizer',
                description: 'Simulate outcomes of major business decisions.',
                inputs: `
                    <div class="input-group">
                        <label>Decision Type</label>
                        <select id="decisionType">
                            <option value="expansion">Market Expansion</option>
                            <option value="product">New Product Launch</option>
                            <option value="pivot">Business Pivot</option>
                            <option value="investment">Major Investment</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Risk Tolerance</label>
                        <select id="riskTolerance">
                            <option value="conservative">Conservative</option>
                            <option value="moderate">Moderate</option>
                            <option value="aggressive">Aggressive</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Time Horizon (months)</label>
                        <input type="number" id="timeHorizon" placeholder="e.g., 24" value="24">
                    </div>
                    <div class="input-group">
                        <label>Success Criteria</label>
                        <textarea id="criteria" placeholder="e.g., 2x revenue, market leadership" rows="3">2x revenue growth, 30% market share, positive cash flow</textarea>
                    </div>
                `,
                simulate: function() {
                    const decisionType = document.getElementById('decisionType').value;
                    const riskTolerance = document.getElementById('riskTolerance').value;
                    const timeHorizon = parseInt(document.getElementById('timeHorizon').value);
                    
                    const outcomes = [];
                    const decisionProfiles = {
                        'expansion': { success: 0.6, impact: 2.5 },
                        'product': { success: 0.5, impact: 3.0 },
                        'pivot': { success: 0.4, impact: 4.0 },
                        'investment': { success: 0.7, impact: 2.0 }
                    };
                    
                    const riskModifiers = {
                        'conservative': { success: 1.2, impact: 0.7 },
                        'moderate': { success: 1.0, impact: 1.0 },
                        'aggressive': { success: 0.8, impact: 1.5 }
                    };
                    
                    // Generate multiple outcome scenarios
                    const scenarios = ['Best Case', 'Expected Case', 'Worst Case', 'Black Swan', 'Surprise Upside'];
                    const modifiers = [1.5, 1.0, 0.5, 0.2, 2.0];
                    
                    scenarios.forEach((scenario, index) => {
                        const baseSuccess = decisionProfiles[decisionType].success;
                        const baseImpact = decisionProfiles[decisionType].impact;
                        const riskMod = riskModifiers[riskTolerance];
                        
                        const successProb = Math.min(0.95, baseSuccess * riskMod.success * modifiers[index]);
                        const impact = baseImpact * riskMod.impact * modifiers[index];
                        
                        const outcome = {
                            scenario: scenario,
                            probability: (successProb * 100).toFixed(1) + '%',
                            impact: impact.toFixed(1) + 'x',
                            timeline: Math.round(timeHorizon / modifiers[index]) + ' months',
                            recommendation: successProb > 0.6 ? 'Proceed' : successProb > 0.4 ? 'Proceed with caution' : 'Reconsider',
                            keyRisks: generateRisks(decisionType, successProb)
                        };
                        
                        outcomes.push(outcome);
                    });
                    
                    return {
                        type: 'decision',
                        data: outcomes
                    };
                }
            },
            'hidden-segments': {
                title: 'Hidden Segment Discoverer',
                description: 'Uncover profitable customer segments through simulation.',
                inputs: `
                    <div class="input-group">
                        <label>Industry</label>
                        <select id="industry">
                            <option value="tech">Technology</option>
                            <option value="retail">Retail</option>
                            <option value="finance">Finance</option>
                            <option value="healthcare">Healthcare</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Current Target Market</label>
                        <input type="text" id="currentTarget" placeholder="e.g., Enterprise companies" value="Enterprise B2B companies">
                    </div>
                    <div class="input-group">
                        <label>Product Type</label>
                        <select id="productType">
                            <option value="software">Software</option>
                            <option value="service">Service</option>
                            <option value="platform">Platform</option>
                            <option value="hardware">Hardware</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Data Points Available</label>
                        <input type="number" id="dataPoints" placeholder="e.g., 10000" value="10000">
                    </div>
                `,
                simulate: function() {
                    const industry = document.getElementById('industry').value;
                    const dataPoints = parseInt(document.getElementById('dataPoints').value);
                    
                    const segments = [];
                    const hiddenSegments = [
                        { name: 'Power Users', base: 0.15, value: 3.2 },
                        { name: 'Silent Majority', base: 0.45, value: 1.8 },
                        { name: 'Early Adopters', base: 0.08, value: 4.5 },
                        { name: 'Price Sensitive', base: 0.25, value: 1.2 },
                        { name: 'Feature Maximizers', base: 0.12, value: 2.8 },
                        { name: 'Brand Loyalists', base: 0.18, value: 2.5 }
                    ];
                    
                    hiddenSegments.forEach(segment => {
                        const discovered = Math.random() > 0.3; // 70% chance of discovery
                        if (discovered) {
                            const size = Math.round(dataPoints * segment.base * (0.8 + Math.random() * 0.4));
                            const value = segment.value * (0.9 + Math.random() * 0.2);
                            const growth = (Math.random() * 30 + 10).toFixed(1);
                            
                            segments.push({
                                segment: segment.name,
                                size: size.toLocaleString(),
                                avgValue: '$' + (value * 1000).toFixed(0),
                                growth: growth + '%',
                                opportunity: '$' + (size * value * 1000).toLocaleString(),
                                confidence: (Math.random() * 40 + 60).toFixed(0) + '%'
                            });
                        }
                    });
                    
                    return {
                        type: 'segments',
                        data: segments
                    };
                }
            }
        };

        function generateRisks(decisionType, successProb) {
            const risks = {
                'expansion': ['Market saturation', 'Cultural differences', 'Regulatory challenges'],
                'product': ['Product-market fit', 'Competition', 'Development delays'],
                'pivot': ['Customer retention', 'Team alignment', 'Brand confusion'],
                'investment': ['ROI uncertainty', 'Integration challenges', 'Opportunity cost']
            };
            
            const selectedRisks = risks[decisionType];
            const numRisks = successProb < 0.5 ? 3 : successProb < 0.7 ? 2 : 1;
            
            return selectedRisks.slice(0, numRisks).join(', ');
        }

        function openModal(useCase) {
            const modal = document.getElementById('simulationModal');
            const modalContent = document.getElementById('modalContent');
            const sim = simulations[useCase];
            
            modalContent.innerHTML = `
                <h2>${sim.title}</h2>
                <p>${sim.description}</p>
                <div class="simulation-container">
                    ${sim.inputs}
                    <button class="run-simulation-btn" onclick="runSimulation('${useCase}')">
                        Run Simulation
                    </button>
                    <div class="loading" id="loading">
                        <div class="loading-spinner"></div>
                        <p>Running simulation across multiple timelines...</p>
                    </div>
                    <div class="simulation-results" id="results"></div>
                </div>
            `;
            
            modal.style.display = 'block';
        }

        function closeModal() {
            document.getElementById('simulationModal').style.display = 'none';
        }

        // API configuration - pointing to your local Azure Function
        const API_ENDPOINT = 'http://localhost:7071/api/businessinsightbot_function';
        
        async function runSimulation(useCase) {
            const loading = document.getElementById('loading');
            const results = document.getElementById('results');
            
            loading.style.display = 'block';
            results.style.display = 'none';
            
            try {
                const simulation = simulations[useCase];
                const inputs = gatherInputs(useCase);
                
                // Create a prompt that instructs the AI to act as a reality simulator
                const simulationPrompt = createSimulationPrompt(useCase, simulation, inputs);
                
                console.log('Sending simulation request:', simulationPrompt);
                
                const response = await fetch(API_ENDPOINT, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        user_input: simulationPrompt,
                        conversation_history: [],
                        user_guid: localStorage.getItem('simulation_user_guid') || 'simulation-demo-' + Date.now()
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`API request failed: ${response.status}`);
                }
                
                const data = await response.json();
                console.log('API Response:', data);
                
                loading.style.display = 'none';
                results.style.display = 'block';
                
                // Display the AI's simulation response
                displayAIResponse(data, useCase);
                
                // If there's a voice response, log it
                if (data.voice_response) {
                    console.log('Voice summary:', data.voice_response);
                }
                
            } catch (error) {
                console.error('API Error:', error);
                loading.style.display = 'none';
                results.style.display = 'block';
                
                // Show error message with fallback option
                const resultsDiv = document.getElementById('results');
                resultsDiv.innerHTML = `
                    <div class="result-item" style="background: rgba(239, 68, 68, 0.1); border-left-color: #ef4444;">
                        <h4>Connection Error</h4>
                        <p>Unable to connect to the AI simulation engine: ${error.message}</p>
                        <p>Make sure your Azure Function is running on port 7071.</p>
                        <button class="simulate-btn" onclick="runLocalSimulation('${useCase}')" style="margin-top: 15px;">
                            Run Local Simulation Instead
                        </button>
                    </div>
                `;
            }
        }
        
        function createSimulationPrompt(useCase, simulation, inputs) {
            const prompts = {
                'customer-response': `You are an AI business reality simulator. Simulate customer response scenarios for the following:
                    
Product: ${inputs.productName}
Target Segment: ${inputs.targetSegment}
Features: ${inputs.features}
Price Point: ${inputs.pricePoint}

Generate 5 different realistic scenarios showing:
- Adoption rate percentage
- Customer sentiment (Positive/Neutral/Negative)
- Net Promoter Score (NPS)
- Projected revenue impact

Consider market dynamics, competition, and segment-specific behaviors. Format each scenario clearly with these metrics.`,

                'marketing-campaign': `You are an AI marketing campaign simulator. Analyze and simulate outcomes for:

Campaign Type: ${inputs.campaignType}
Target Audience: ${inputs.audience}
Message Focus: ${inputs.messageFocus}
Budget: ${inputs.budget}

Simulate performance across 5 different channels (LinkedIn, Google Ads, Facebook, Email, Content) showing:
- Impressions
- Clicks
- Conversions
- ROI percentage
- Cost per channel

Consider channel-audience fit, message resonance, and budget allocation strategies.`,

                'pricing-cliff': `You are an AI pricing optimization simulator. Find optimal pricing and revenue cliffs for:

Product Category: ${inputs.category}
Current Price: ${inputs.currentPrice}
Market Position: ${inputs.marketPosition}
Customer Base: ${inputs.customerBase} customers

Simulate 8 different price points (from 50% to 200% of current price) showing:
- Customer retention/loss
- Total revenue impact
- Demand elasticity
- Identify any "pricing cliffs" where small increases cause large customer losses

Use economic principles and market psychology in your analysis.`,

                'timeline-explorer': `You are an AI business timeline simulator. Explore growth scenarios for:

Business Model: ${inputs.businessModel}
Growth Strategy: ${inputs.growthStrategy}
Starting ARR: ${inputs.startingArr}
Available Investment: ${inputs.investment}

Generate 5 different timeline scenarios over 5 years showing:
- Year-by-year ARR progression
- Growth rate
- Risk level (Low/Medium/High)
- Key inflection points
- Final ARR outcome

Consider market conditions, strategy risks, and compound growth effects.`,

                'decision-quality': `You are an AI decision outcome simulator. Analyze the following business decision:

Decision Type: ${inputs.decisionType}
Risk Tolerance: ${inputs.riskTolerance}
Time Horizon: ${inputs.timeHorizon} months
Success Criteria: ${inputs.criteria}

Simulate 5 scenarios (Best Case, Expected Case, Worst Case, Black Swan, Surprise Upside) showing:
- Probability of success
- Impact multiplier
- Timeline to results
- Key risks
- Recommendation (Proceed/Proceed with caution/Reconsider)

Apply decision theory and risk analysis frameworks.`,

                'hidden-segments': `You are an AI market segment discovery simulator. Uncover hidden segments for:

Industry: ${inputs.industry}
Current Target: ${inputs.currentTarget}
Product Type: ${inputs.productType}
Data Points: ${inputs.dataPoints} customers

Discover 4-6 hidden customer segments showing:
- Segment name and characteristics
- Size (number of customers)
- Average value per customer
- Growth rate
- Total opportunity value
- Confidence level

Use clustering patterns and behavioral analysis to identify non-obvious segments.`
            };
            
            return prompts[useCase] || 'Simulate business scenarios based on the provided inputs.';
        }
        
        function gatherInputs(useCase) {
            const inputs = {};
            const inputElements = document.querySelectorAll('.input-group input, .input-group select, .input-group textarea');
            
            inputElements.forEach(element => {
                inputs[element.id] = element.value;
            });
            
            return inputs;
        }
        
        function displayAIResponse(data, useCase) {
            const resultsDiv = document.getElementById('results');
            let html = '<h3>AI Simulation Results</h3>';
            
            // Display the formatted response from the AI
            html += '<div class="ai-response" style="white-space: pre-wrap; line-height: 1.6;">';
            html += data.assistant_response.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            html += '</div>';
            
            // Add voice summary if available
            if (data.voice_response) {
                html += `
                    <div style="margin-top: 20px; padding: 15px; background: rgba(99, 102, 241, 0.1); border-radius: 8px;">
                        <h4 style="color: #a855f7;">🎯 Quick Summary</h4>
                        <p>${data.voice_response}</p>
                    </div>
                `;
            }
            
            // Add simulation insight
            html += `
                <div style="margin-top: 30px; padding: 20px; background: rgba(34, 197, 94, 0.1); border-radius: 12px;">
                    <h4 style="color: #22c55e;">💡 Simulation Advantage</h4>
                    <p>This AI-powered simulation compressed months of real-world testing into seconds. By leveraging the AI's vast knowledge of market patterns and business dynamics, you've explored scenarios that would be impossible to test in reality without significant time and resource investment.</p>
                </div>
            `;
            
            resultsDiv.innerHTML = html;
        }
        
        function runLocalSimulation(useCase) {
            const loading = document.getElementById('loading');
            const results = document.getElementById('results');
            
            loading.style.display = 'block';
            results.style.display = 'none';
            
            setTimeout(() => {
                const simulation = simulations[useCase];
                const result = simulation.simulate();
                
                loading.style.display = 'none';
                results.style.display = 'block';
                
                displayResults(result);
            }, 2000);
        }

        function displayResults(result) {
            const resultsDiv = document.getElementById('results');
            let html = '<h3>Simulation Results</h3>';
            
            if (result.type === 'timeline') {
                html += '<div class="result-timeline">';
                result.data.forEach(item => {
                    html += `
                        <div class="timeline-card">
                            <h5>${item.scenario}</h5>
                            <div class="value">${item.adoptionRate || item.revenue}</div>
                            <p>Sentiment: ${item.sentiment || 'N/A'}</p>
                            <p>NPS: ${item.nps || 'N/A'}</p>
                        </div>
                    `;
                });
                html += '</div>';
            } else if (result.type === 'comparison') {
                result.data.forEach(item => {
                    html += `
                        <div class="result-item">
                            <h4>${item.channel}</h4>
                            <div class="value-metrics">
                                <div class="metric-card">
                                    <h5>Impressions</h5>
                                    <div class="metric-value">${item.impressions}</div>
                                </div>
                                <div class="metric-card">
                                    <h5>Conversions</h5>
                                    <div class="metric-value">${item.conversions}</div>
                                </div>
                                <div class="metric-card">
                                    <h5>ROI</h5>
                                    <div class="metric-value">${item.roi}</div>
                                </div>
                            </div>
                        </div>
                    `;
                });
            } else if (result.type === 'pricing') {
                html += '<div class="chart-container">';
                result.data.forEach(item => {
                    const bgColor = item.optimal ? 'rgba(34, 197, 94, 0.2)' : item.cliff ? 'rgba(239, 68, 68, 0.2)' : 'rgba(99, 102, 241, 0.1)';
                    const borderColor = item.optimal ? '#22c55e' : item.cliff ? '#ef4444' : '#6366f1';
                    
                    html += `
                        <div class="result-item" style="background: ${bgColor}; border-left-color: ${borderColor};">
                            <h4>Price: ${item.price} ${item.optimal ? '(Optimal)' : item.cliff ? '(Cliff Warning!)' : ''}</h4>
                            <p>Customers: ${item.customers} | Revenue: ${item.revenue} | Change: ${item.change}</p>
                        </div>
                    `;
                });
                html += '</div>';
            } else {
                result.data.forEach(item => {
                    html += '<div class="result-item">';
                    Object.entries(item).forEach(([key, value]) => {
                        if (key !== 'details') {
                            html += `<p><strong>${key}:</strong> ${value}</p>`;
                        }
                    });
                    html += '</div>';
                });
            }
            
            html += `
                <div style="margin-top: 30px; padding: 20px; background: rgba(99, 102, 241, 0.1); border-radius: 12px;">
                    <h4 style="color: #a855f7;">💡 Simulation Insight</h4>
                    <p>This simulation compressed months of real-world testing into seconds, revealing patterns and opportunities that traditional analysis would miss. By exploring multiple timelines simultaneously, you can make decisions with unprecedented confidence.</p>
                </div>
            `;
            
            resultsDiv.innerHTML = html;
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('simulationModal');
            if (event.target === modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>